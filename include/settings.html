<div id="settings-container">
    <div id="settings-inner-container">
        <div id="settings-title">
            Settings
        </div>
        <div id="settings-content">
            <div class="settings-row">
                <div class="settings-row-label">
                    Write value to RGB LED
                </div>
                <div class="settings-row-setting">
                    <div class="settings-value-setter">
                        <div id="settings-rgbValue" class="settings-contenteditable" contenteditable="true">
                        </div>
                    </div>
                    <div id='btn-rgb-send' class="btn-debug">Send</div>
                </div>
            </div>
            <div class="settings-row">
                <div class="settings-row-label">
                    Time to join [seconds]
                </div>
                <div class="settings-row-setting">
                    <div id="settings-timeToJoin" class="settings-contenteditable" contenteditable="true">
                    </div>
                </div>
            </div>
            <div class="settings-row">
                <div class="settings-row-label">
                    Number of lives
                </div>
                <div class="settings-row-setting">
                    <div id="settings-lives" class="settings-contenteditable" contenteditable="true">
                    </div>
                </div>
            </div>
            <div class="settings-row">
                <div class="settings-row-label">
                    Cooldown time before new shot [seconds]
                </div>
                <div class="settings-row-setting">
                    <div id="settings-coolDownPeriod" class="settings-contenteditable" contenteditable="true">
                    </div>
                </div>
            </div>
            <div class="settings-row">
                <div class="settings-row-label">
                    Minimum time between hits
                </div>
                <div class="settings-row-setting">
                    <div id="settings-timeBetweenHits" class="settings-contenteditable" contenteditable="true">
                    </div>
                </div>
            </div>
        </div>
        <div id="settings-btn-return" class="button">
            Save and return
        </div>
    </div>
</div>


<script>

    // Populate settings boxes
    $('#settings-timeToJoin').text(game.timeToJoin);
    $('#settings-lives').text(game.score);
    $('#settings-coolDownPeriod').text(game.coolDownPeriod/1000);
    $('#settings-timeBetweenHits').text(game.timeBetweenHits/1000);

    // Save the new settings
    $('#settings-timeToJoin').focusout( function() {
        game.timeToJoin = $(this).text().trim();
        console.log('Time to join: ' + game.timeToJoin);
    });

    $('#settings-lives').focusout( function() {
        game.score = $(this).text().trim();
        console.log('Number of lives: ' + game.score);
    });

    $('#settings-coolDownPeriod').focusout( function() {
        game.coolDownPeriod = $(this).text().trim() * 1000;
        console.log('Cooldown time: ' + game.coolDownPeriod);
    });

    $('#settings-timeBetweenHits').focusout( function() {
        game.timeBetweenHits = $(this).text().trim() * 1000;
        console.log('Time between hits: ' + game.timeBetweenHits);
    });

    // Return to game menu
    $('#settings-btn-return').on('click', function() {
        $('#main').fadeOut(200).promise().done( function() { $(this).load('include/controllers.html').fadeIn(200) });
    });

    //** Debugging **//

    $('#btn-rgb-send').on('touchstart mousedown', function(event) {
        event.preventDefault;
        ble.charVal[5] = $('#settings-rgbValue').text().trim();
        console.log(ble.charVal);
        priorityWrite(ble.charVal);
    });
</script>
